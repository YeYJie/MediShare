<div id="patientInfo">
	<div class="row">
		<div class="col-md-2" id="patientInfoHeader"></div>
		<div class="col-md-10" id="patientInfoDetail"></div>
	</div>
</div>

<script type="text/javascript">

	var processPatientInfo = function(patient) {
		var patientInfoHeader = '<img src="/header/' + patient.id + '" />';
		console.log("processPatientInfo header: " + patientInfoHeader);
		document.getElementById("patientInfoHeader").innerHTML = patientInfoHeader;
		console.log(document.getElementById("patientInfoHeader").innerHTML);
		var patientInfoTable = ''
			+'<table class="table">'
			+'	<thead><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th></thead>'
			+'	<tbody>'
			+'		<tr>'
			+'			<td><h4>姓名:</h4></td><td colspan="2"><h4>' + patient.name + '</h4></td>'
			+'			<td><h4>性别:</h4></td><td colspan="2"><h4>' + patient.gender + '</h4></td>'
			+'			<td><h4>出生日期:</h4></td><td colspan="2"><h4>' + patient.birth + '</h4></td>'
			+'		</tr>'
			+'		<tr>'
			+'			<td><h4>民族:</h4></td><td colspan="2"><h4>' + patient.minzu + '</h4></td>'
			+'			<td><h4>婚姻状况:</h4></td><td colspan="2"><h4>' + patient.maritalStatus + '</h4></td>'
			+'			<td><h4>教育情况:</h4></td><td colspan="2"><h4>' + patient.educationalLevel + '</h4></td>'
			+'		</tr>'
			+'		<tr>'
			+'			<td><h4>职业:</h4></td><td colspan="2"><h4>' + patient.occupation + '</h4></td>'
			+'			<td><h4>工作单位:</h4></td><td colspan="5"><h4>' + patient.company + '</h4></td>'
			+'		</tr>'
			+'		<tr>'
			+'			<td><h4>居住地址:</h4></td><td colspan="8"><h4>' + patient.addr + '</h4></td>'
			+'		</tr>'
			+'		<tr>'
			+'			<td><h4>过敏史:</h4></td><td colspan="8"><h4>' + patient.allergy + '</h4></td>'
			+'		</tr>'
			+'	</tbody>'
			+'</table>';
		document.getElementById("patientInfoDetail").innerHTML = patientInfoTable;
	}

	$(function() {

		socket.on('patientInfo', function(data) {
			console.log('patientInfo', data);
			var patientInfo = JSON.parse(data.patientInfo);
			processPatientInfo(patientInfo);
		});

	});
</script>
